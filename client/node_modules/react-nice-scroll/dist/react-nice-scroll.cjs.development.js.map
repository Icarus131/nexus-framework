{"version":3,"file":"react-nice-scroll.cjs.development.js","sources":["../src/allowScrollPlugin.ts","../src/willChangePlugin.ts","../src/state.ts","../src/isTouch.ts","../src/ScrollContainer.tsx","../src/FixedElement.tsx","../src/animations.ts","../src/GellyElement.tsx","../src/HorizontalSection.tsx","../src/ParallaxImage.tsx","../src/utils.ts","../src/SequenceSection.tsx"],"sourcesContent":["import Scrollbar from 'smooth-scrollbar';\r\n\r\nclass AllowScrollPlugin extends Scrollbar.ScrollbarPlugin {\r\n  static defaultOptions = {\r\n    allow: true,\r\n  };\r\n\r\n  transformDelta(delta: any) {\r\n    return this.options.allow ? delta : { x: 0, y: 0 };\r\n  }\r\n}\r\n\r\nAllowScrollPlugin.pluginName = 'allowScroll';\r\n\r\nexport default AllowScrollPlugin;\r\n","import Scrollbar from 'smooth-scrollbar';\r\n\r\nclass WillChangePlugin extends Scrollbar.ScrollbarPlugin {\r\n  transformDelta(delta: any, _evt: any) {\r\n    this.scrollbar.contentEl.style.willChange = 'transform';\r\n\r\n    return delta;\r\n  }\r\n\r\n  onRender(remainMomentum: { x: number; y: number }) {\r\n    if (remainMomentum.x === 0 && remainMomentum.y === 0) {\r\n      this.scrollbar.contentEl.style.willChange = '';\r\n    }\r\n  }\r\n}\r\n\r\nWillChangePlugin.pluginName = 'willChange';\r\n\r\nexport default WillChangePlugin;\r\n","import { createGlobalState } from 'react-hooks-global-state';\r\nimport { Scrollbar } from 'smooth-scrollbar/scrollbar';\r\n\r\ninterface State {\r\n  container: HTMLElement | HTMLDivElement | undefined;\r\n  smoothScrollBar: Scrollbar | undefined;\r\n  allowScroll: boolean;\r\n}\r\n\r\nexport const { useGlobalState } = createGlobalState<State>({\r\n  container: undefined,\r\n  smoothScrollBar: undefined,\r\n  allowScroll: true,\r\n});\r\n","// @ts-nocheck\r\nconst detectTouch = () => {\r\n  if (typeof window !== 'undefined') {\r\n    return Boolean(\r\n      'ontouchstart' in window ||\r\n        window.navigator.maxTouchPoints > 0 ||\r\n        window.navigator.msMaxTouchPoints > 0 ||\r\n        (window.DocumentTouch && document instanceof DocumentTouch)\r\n    );\r\n  }\r\n};\r\n\r\nexport default detectTouch;\r\n","import React, { FC, useLayoutEffect, useRef } from 'react';\r\nimport SmoothScrollbar from 'smooth-scrollbar';\r\nimport AllowScrollPlugin from './allowScrollPlugin';\r\nimport WillChangePlugin from './willChangePlugin';\r\nimport { ScrollTrigger } from 'gsap/dist/ScrollTrigger';\r\nimport { useGlobalState } from './state';\r\nimport detectTouch from './isTouch';\r\nimport './styles.scss';\r\n\r\ninterface ScrollContainerProps {\r\n  children: React.ReactNode;\r\n  damping?: number;\r\n  thumbMinSize?: number;\r\n  renderByPixels?: boolean;\r\n  alwaysShowTracks?: boolean;\r\n  continuousScrolling?: boolean;\r\n  delegateTo?: EventTarget;\r\n  activeSmoothScrollOnTouchDevice?: boolean;\r\n  disableSmoothScroll?: boolean;\r\n}\r\n\r\nexport const ScrollContainer: FC<ScrollContainerProps> = ({\r\n  children,\r\n  damping = 0.075,\r\n  thumbMinSize = 20,\r\n  renderByPixels = false,\r\n  alwaysShowTracks = false,\r\n  continuousScrolling = true,\r\n  delegateTo,\r\n  activeSmoothScrollOnTouchDevice = false,\r\n  disableSmoothScroll = false,\r\n  ...props\r\n}) => {\r\n  const scrollContainer = useRef<HTMLDivElement | null>(null);\r\n\r\n  // @ts-ignore: Unreachable code error\r\n  const [_container, setContainer] = useGlobalState('container');\r\n  // @ts-ignore: Unreachable code error\r\n  const [_scrollBar, setScrollBar] = useGlobalState('smoothScrollBar');\r\n\r\n  useLayoutEffect(() => {\r\n    if (\r\n      (detectTouch() && !activeSmoothScrollOnTouchDevice) ||\r\n      disableSmoothScroll\r\n    ) {\r\n      if (scrollContainer.current) {\r\n        scrollContainer.current.style.overflow = 'auto';\r\n        scrollContainer.current.style.height = 'auto';\r\n        setContainer(document.body);\r\n      }\r\n      return;\r\n    }\r\n\r\n    SmoothScrollbar.use(AllowScrollPlugin, WillChangePlugin);\r\n    const view = scrollContainer.current;\r\n    if (view) {\r\n      const smoothScroll = SmoothScrollbar.init(view, {\r\n        damping,\r\n        thumbMinSize,\r\n        renderByPixels,\r\n        alwaysShowTracks,\r\n        continuousScrolling,\r\n        delegateTo,\r\n      });\r\n      if (smoothScroll) setScrollBar(smoothScroll);\r\n\r\n      ScrollTrigger.scrollerProxy(view, {\r\n        scrollTop(value) {\r\n          if (arguments.length && value) {\r\n            smoothScroll.scrollTop = value;\r\n          }\r\n          return smoothScroll.scrollTop;\r\n        },\r\n      });\r\n\r\n      smoothScroll.addListener(ScrollTrigger.update);\r\n\r\n      if (scrollContainer.current) setContainer(scrollContainer.current);\r\n    }\r\n\r\n    return () => {\r\n      SmoothScrollbar?.destroyAll();\r\n    };\r\n  }, [\r\n    alwaysShowTracks,\r\n    continuousScrolling,\r\n    damping,\r\n    renderByPixels,\r\n    thumbMinSize,\r\n    setContainer,\r\n    activeSmoothScrollOnTouchDevice,\r\n    disableSmoothScroll,\r\n    delegateTo,\r\n    setScrollBar,\r\n  ]);\r\n\r\n  return (\r\n    <div className=\"ns-container\" {...props} ref={scrollContainer}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n","import React, { FC, useLayoutEffect, useRef } from 'react';\r\nimport { useGlobalState } from './state';\r\n\r\ninterface FixedElementProps {\r\n  children: React.ReactNode;\r\n  top?: number;\r\n  right?: number;\r\n  left?: number;\r\n}\r\n\r\nexport const FixedElement: FC<FixedElementProps> = ({\r\n  children,\r\n  top = 0,\r\n  left,\r\n  right,\r\n  ...props\r\n}) => {\r\n  const fixedElement = useRef<HTMLDivElement | null>(null);\r\n  const [smoothScrollBar] = useGlobalState('smoothScrollBar');\r\n\r\n  useLayoutEffect(() => {\r\n    if (smoothScrollBar)\r\n      smoothScrollBar.addListener(({ offset }) => {\r\n        if (fixedElement.current) {\r\n          fixedElement.current.style.top = top + offset.y + 'px';\r\n          if (right !== undefined)\r\n            fixedElement.current.style.right = right + offset.x + 'px';\r\n          if (left !== undefined)\r\n            fixedElement.current.style.left = left + offset.x + 'px';\r\n        }\r\n      });\r\n    return () => {};\r\n  }, [left, right, smoothScrollBar, top]);\r\n  return (\r\n    <div\r\n      className=\"ns-fixed-element\"\r\n      ref={fixedElement}\r\n      style={{ top, left, right }}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n","import { gsap } from 'gsap';\r\n\r\nexport const gellyAnimation = (\r\n  element: HTMLDivElement | string,\r\n  velocity: number,\r\n  axis: 'skewY' | 'skewX',\r\n  intensity: number,\r\n  min: number,\r\n  max: number,\r\n  duration: number,\r\n  ease: string\r\n) => {\r\n  let proxy = { skew: 0 },\r\n    skewSetter = gsap.quickSetter(element, axis, 'deg'),\r\n    clamp = gsap.utils.clamp(min, max);\r\n\r\n  let skew = clamp(velocity / intensity);\r\n\r\n  if (Math.abs(skew) > Math.abs(proxy.skew)) {\r\n    proxy.skew = skew;\r\n  }\r\n  return gsap.to(proxy, {\r\n    skew: 0,\r\n    duration,\r\n    ease,\r\n    overwrite: true,\r\n    onUpdate: () => skewSetter(proxy.skew),\r\n    immediateRender: false,\r\n  });\r\n};\r\n\r\nexport const parallaxAnimation = (\r\n  element: HTMLElement | string,\r\n  trigger: gsap.DOMTarget | string,\r\n  scroller: HTMLElement | HTMLDivElement,\r\n  start: string,\r\n  end: string,\r\n  axis: 'y' | 'x',\r\n  fromPercent: number,\r\n  toPercent: number,\r\n  containerAnimation?: gsap.core.Animation\r\n) => {\r\n  return gsap\r\n    .timeline({\r\n      scrollTrigger: {\r\n        trigger,\r\n        scroller,\r\n        scrub: true,\r\n        start,\r\n        end,\r\n        pin: false,\r\n        containerAnimation,\r\n      },\r\n    })\r\n    .from(element, {\r\n      yPercent: axis === 'y' ? fromPercent : undefined,\r\n      xPercent: axis === 'x' ? fromPercent : undefined,\r\n      ease: 'none',\r\n      immediateRender: scroller === document.body,\r\n    })\r\n    .to(element, {\r\n      yPercent: axis === 'y' ? toPercent : undefined,\r\n      xPercent: axis === 'x' ? toPercent : undefined,\r\n      ease: 'none',\r\n    });\r\n};\r\n","import React, { FC, useLayoutEffect, useRef } from 'react';\r\nimport { gsap } from 'gsap';\r\nimport { ScrollTrigger } from 'gsap/dist/ScrollTrigger';\r\nimport { useGlobalState } from './state';\r\nimport { gellyAnimation } from './animations';\r\ngsap.registerPlugin(ScrollTrigger);\r\n\r\ninterface GellyElementProps {\r\n  children: React.ReactNode;\r\n  trigger?: gsap.DOMTarget | string;\r\n  axis?: 'skewY' | 'skewX';\r\n  intensity?: number;\r\n  min?: number;\r\n  max?: number;\r\n  duration?: number;\r\n  ease?: string;\r\n  start?: string;\r\n  end?: string;\r\n}\r\n\r\nexport const GellyElement: FC<GellyElementProps> = ({\r\n  children,\r\n  axis = 'skewY',\r\n  trigger,\r\n  intensity = -400,\r\n  min = -40,\r\n  max = 40,\r\n  duration = 0.3,\r\n  ease = 'expo.out',\r\n  start = 'top bottom',\r\n  end = 'bottom top',\r\n  ...props\r\n}) => {\r\n  const gellyElement = useRef<null | HTMLDivElement>(null);\r\n  const [scroller] = useGlobalState('container');\r\n\r\n  useLayoutEffect(() => {\r\n    let animation: gsap.core.Tween | undefined;\r\n    const scrollTrigger = ScrollTrigger.create({\r\n      trigger: trigger || gellyElement.current,\r\n      scroller,\r\n      start,\r\n      end,\r\n      onUpdate: self => {\r\n        if (gellyElement.current)\r\n          animation = gellyAnimation(\r\n            gellyElement.current,\r\n            self.getVelocity(),\r\n            axis,\r\n            intensity,\r\n            min,\r\n            max,\r\n            duration,\r\n            ease\r\n          );\r\n      },\r\n    });\r\n\r\n    return () => {\r\n      animation?.kill();\r\n      scrollTrigger?.kill();\r\n    };\r\n  }, [\r\n    axis,\r\n    duration,\r\n    ease,\r\n    end,\r\n    intensity,\r\n    max,\r\n    min,\r\n    scroller,\r\n    start,\r\n    trigger,\r\n  ]);\r\n  return (\r\n    <div className=\"ns-gelly-element\" ref={gellyElement} {...props}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n","import React, { FC, useLayoutEffect, useRef } from 'react';\r\nimport { gsap } from 'gsap';\r\nimport { useGlobalState } from './state';\r\n\r\ninterface HorizontalSectionProps {\r\n  children: React.ReactNode;\r\n  toRight?: boolean;\r\n  start?: string;\r\n  addAnimation?: (fromTo: gsap.core.Tween) => void;\r\n}\r\n\r\nexport const HorizontalSection: FC<HorizontalSectionProps> = ({\r\n  children,\r\n  toRight = true,\r\n  start = 'top top',\r\n  addAnimation,\r\n  ...props\r\n}) => {\r\n  const horizontal = useRef<null | HTMLDivElement>(null);\r\n  const pinWrap = useRef<null | HTMLDivElement>(null);\r\n  const animationWrap = useRef<null | HTMLDivElement>(null);\r\n  const [scroller] = useGlobalState('container');\r\n\r\n  useLayoutEffect(() => {\r\n    let fromTo: gsap.core.Tween;\r\n    if (animationWrap.current) {\r\n      const scrollWidth = animationWrap.current.scrollWidth;\r\n      const getToValue = () => -(scrollWidth - window.innerWidth);\r\n\r\n      fromTo = gsap.fromTo(\r\n        animationWrap.current,\r\n        {\r\n          x: () => (toRight ? 0 : getToValue()),\r\n        },\r\n        {\r\n          x: () => (toRight ? getToValue() : 0),\r\n          ease: 'none',\r\n          scrollTrigger: {\r\n            trigger: horizontal.current,\r\n            scroller,\r\n            pinType: scroller === document.body ? 'fixed' : 'transform',\r\n            start,\r\n            end: () => '+=' + scrollWidth,\r\n            onEnter: () => {\r\n              if (horizontal.current) horizontal.current.style.willChange = 'transform';\r\n            },\r\n            onEnterBack: () => {\r\n              if (horizontal.current) horizontal.current.style.willChange = 'transform';\r\n            },\r\n            onLeave: () => {\r\n              if (horizontal.current) horizontal.current.style.willChange = '';\r\n            },\r\n            onLeaveBack: () => {\r\n              if (horizontal.current) horizontal.current.style.willChange = '';\r\n            },\r\n            pin: true,\r\n            invalidateOnRefresh: true,\r\n            anticipatePin: 1,\r\n            scrub: true,\r\n          },\r\n        }\r\n      );\r\n\r\n      if (addAnimation && fromTo) addAnimation(fromTo);\r\n    }\r\n    return () => {\r\n      fromTo?.kill();\r\n    };\r\n  }, [addAnimation, toRight, scroller, start]);\r\n\r\n  return (\r\n    <section className=\"ns-horizontal-section\" ref={horizontal} {...props}>\r\n      <div className=\"ns-horizontal-section__pin-wrap\" ref={pinWrap}>\r\n        <div className=\"ns-horizontal-section__animation-wrap\" ref={animationWrap}>\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n","import React, { FC, useLayoutEffect, useRef } from 'react';\r\nimport { ScrollTrigger } from 'gsap/dist/ScrollTrigger';\r\nimport { useGlobalState } from './state';\r\nimport { parallaxAnimation } from './animations';\r\n\r\ninterface ParallaxImageProps {\r\n  src: string;\r\n  alt?: string;\r\n  triggerElement?: gsap.DOMTarget | string;\r\n  start?: string;\r\n  end?: string;\r\n  axis?: 'y' | 'x';\r\n  fromPercent?: number;\r\n  toPercent?: number;\r\n  containerHeight?: string;\r\n  imageScale?: number;\r\n  imageObjectPosition?: string;\r\n}\r\n\r\nexport const ParallaxImage: FC<ParallaxImageProps> = ({\r\n  src,\r\n  alt,\r\n  triggerElement,\r\n  start = 'top bottom',\r\n  end = 'bottom top',\r\n  axis = 'y',\r\n  fromPercent = -40,\r\n  toPercent = 40,\r\n  containerHeight = '100vh',\r\n  imageScale = 1.2,\r\n  imageObjectPosition = 'center',\r\n  ...props\r\n}) => {\r\n  const parallaxImage = useRef<HTMLElement | null>(null);\r\n  const parallaxImageInner = useRef<HTMLImageElement | null>(null);\r\n\r\n  const [scroller] = useGlobalState('container');\r\n\r\n  useLayoutEffect(() => {\r\n    const trigger = parallaxImage.current || triggerElement;\r\n    let animation: gsap.core.Timeline;\r\n\r\n    if (parallaxImageInner.current !== null && trigger && scroller) {\r\n      animation = parallaxAnimation(\r\n        parallaxImageInner.current,\r\n        trigger,\r\n        scroller,\r\n        start,\r\n        end,\r\n        axis,\r\n        fromPercent,\r\n        toPercent\r\n      );\r\n    }\r\n\r\n    return () => {\r\n      animation?.kill();\r\n    };\r\n  }, [\r\n    axis,\r\n    end,\r\n    fromPercent,\r\n    scroller,\r\n    start,\r\n    toPercent,\r\n    triggerElement,\r\n    containerHeight,\r\n    imageScale,\r\n    imageObjectPosition,\r\n  ]);\r\n\r\n  return (\r\n    <figure\r\n      className=\"ns-parallax-image\"\r\n      ref={parallaxImage}\r\n      style={{ height: `${containerHeight}` }}\r\n      {...props}\r\n    >\r\n      <img\r\n        ref={parallaxImageInner}\r\n        src={src}\r\n        alt={alt}\r\n        className=\"ns-parallax-image__inner\"\r\n        style={{\r\n          transform: `scale(${imageScale})`,\r\n          objectPosition: `${imageObjectPosition}`,\r\n        }}\r\n        loading=\"lazy\"\r\n        onLoad={() => ScrollTrigger.refresh()}\r\n      />\r\n    </figure>\r\n  );\r\n};\r\n","export const preloadImage = (src: string) => {\r\n  return new Promise((resolve, reject) => {\r\n    const img = new Image();\r\n    const xhr = new XMLHttpRequest();\r\n\r\n    xhr.open('GET', src, true);\r\n    xhr.responseType = 'blob';\r\n    xhr.onload = () => {\r\n      img.src = URL.createObjectURL(xhr.response);\r\n      img.onload = () => resolve(img);\r\n    };\r\n    xhr.onerror = () => reject();\r\n    xhr.send();\r\n  });\r\n};\r\n\r\nexport const preloadImages = (urls: string[]) => {\r\n  return Promise.all(urls.map((src) => preloadImage(src)));\r\n};\r\n\r\nexport const calcDrawImage = (ctx: CanvasRenderingContext2D, image: any, left = 0.5, top = 0.5) => {\r\n  const cWidth = ctx.canvas.width;\r\n  const cHeight = ctx.canvas.height;\r\n  const width = image.width;\r\n  const height = image.height;\r\n  const ratio = width / height;\r\n  const cRatio = cWidth / cHeight;\r\n  let resultHeight, resultWidth;\r\n\r\n  if (ratio > cRatio) {\r\n    resultHeight = cHeight;\r\n    resultWidth = cHeight * ratio;\r\n  } else {\r\n    resultWidth = cWidth;\r\n    resultHeight = cWidth / ratio;\r\n  }\r\n\r\n  ctx.drawImage(image, (cWidth - resultWidth) * left, (cHeight - resultHeight) * top, resultWidth, resultHeight);\r\n};\r\n","import React, { FC, useLayoutEffect, useRef } from 'react';\r\nimport { gsap } from 'gsap';\r\nimport { preloadImages, calcDrawImage } from './utils';\r\nimport { useGlobalState } from './state';\r\n\r\ninterface SequenceSectionProps {\r\n  imagesPath: string;\r\n  imagesType: string;\r\n  imagesCount: number;\r\n  start?: string;\r\n  end?: string;\r\n}\r\n\r\nexport const SequenceSection: FC<SequenceSectionProps> = ({\r\n  imagesPath,\r\n  imagesType,\r\n  imagesCount,\r\n  start = 'top top',\r\n  end = '200%',\r\n  ...props\r\n}) => {\r\n  const sequenceSection = useRef<HTMLDivElement | null>(null);\r\n  const sequenceSectionCanvas = useRef<HTMLCanvasElement | null>(null);\r\n  const [scroller] = useGlobalState('container');\r\n\r\n  useLayoutEffect(() => {\r\n    const urls = [];\r\n    for (let i = 0; i < imagesCount; i++) {\r\n      urls.push(`${imagesPath}/${i + 1}.${imagesType}`);\r\n    }\r\n\r\n    const images = preloadImages(urls);\r\n\r\n    let ctx: CanvasRenderingContext2D | null;\r\n    if (sequenceSectionCanvas.current) {\r\n      ctx = sequenceSectionCanvas.current.getContext('2d');\r\n    }\r\n\r\n    const tl = gsap.timeline({\r\n      scrollTrigger: {\r\n        trigger: sequenceSection.current,\r\n        scroller,\r\n        scrub: true,\r\n        start,\r\n        end,\r\n        pin: true,\r\n        pinType: scroller === document.body ? 'fixed' : 'transform',\r\n        onEnter: () => {\r\n          if (sequenceSection.current) sequenceSection.current.style.willChange = 'transform';\r\n        },\r\n        onEnterBack: () => {\r\n          if (sequenceSection.current) sequenceSection.current.style.willChange = 'transform';\r\n        },\r\n        onLeave: () => {\r\n          if (sequenceSection.current) sequenceSection.current.style.willChange = '';\r\n        },\r\n        onLeaveBack: () => {\r\n          if (sequenceSection.current) sequenceSection.current.style.willChange = '';\r\n        },\r\n      },\r\n    });\r\n\r\n    window.addEventListener(\r\n      'resize',\r\n      (function resize() {\r\n        ctx!.canvas.width = document.documentElement.clientWidth;\r\n        ctx!.canvas.height = document.documentElement.clientHeight;\r\n        return resize;\r\n      })()\r\n    );\r\n\r\n    images.then((imgs) => {\r\n      const counter = { i: 0 };\r\n\r\n      tl.to(\r\n        counter,\r\n        {\r\n          i: imgs.length - 1,\r\n          roundProps: 'i',\r\n          ease: 'none',\r\n          immediateRender: true,\r\n          onUpdate: () => {\r\n            if (ctx) calcDrawImage(ctx, imgs[counter.i]);\r\n          },\r\n        },\r\n        0\r\n      );\r\n\r\n      window.addEventListener('resize', () => {\r\n        if (ctx) calcDrawImage(ctx, imgs[counter.i]);\r\n      });\r\n    });\r\n\r\n    return () => {\r\n      tl?.kill();\r\n    };\r\n  }, [end, imagesCount, imagesPath, imagesType, scroller, start]);\r\n\r\n  return (\r\n    <section className=\"ns-sequence-section\" ref={sequenceSection} {...props}>\r\n      <canvas className=\"ns-sequence-section__canvas\" ref={sequenceSectionCanvas} />\r\n    </section>\r\n  );\r\n};\r\n"],"names":["AllowScrollPlugin","transformDelta","delta","options","allow","x","y","Scrollbar","ScrollbarPlugin","pluginName","WillChangePlugin","_evt","scrollbar","contentEl","style","willChange","onRender","remainMomentum","createGlobalState","container","undefined","smoothScrollBar","allowScroll","useGlobalState","detectTouch","window","Boolean","navigator","maxTouchPoints","msMaxTouchPoints","DocumentTouch","document","ScrollContainer","children","damping","thumbMinSize","renderByPixels","alwaysShowTracks","continuousScrolling","delegateTo","activeSmoothScrollOnTouchDevice","disableSmoothScroll","props","scrollContainer","useRef","_container","setContainer","_scrollBar","setScrollBar","useLayoutEffect","current","overflow","height","body","SmoothScrollbar","use","view","smoothScroll","init","ScrollTrigger","scrollerProxy","scrollTop","value","arguments","length","addListener","update","destroyAll","React","className","ref","FixedElement","top","left","right","fixedElement","offset","gellyAnimation","element","velocity","axis","intensity","min","max","duration","ease","proxy","skew","skewSetter","gsap","quickSetter","clamp","utils","Math","abs","to","overwrite","onUpdate","immediateRender","parallaxAnimation","trigger","scroller","start","end","fromPercent","toPercent","containerAnimation","timeline","scrollTrigger","scrub","pin","from","yPercent","xPercent","registerPlugin","GellyElement","gellyElement","animation","create","self","getVelocity","kill","HorizontalSection","toRight","addAnimation","horizontal","pinWrap","animationWrap","fromTo","scrollWidth","getToValue","innerWidth","pinType","onEnter","onEnterBack","onLeave","onLeaveBack","invalidateOnRefresh","anticipatePin","ParallaxImage","src","alt","triggerElement","containerHeight","imageScale","imageObjectPosition","parallaxImage","parallaxImageInner","transform","objectPosition","loading","onLoad","refresh","preloadImage","Promise","resolve","reject","img","Image","xhr","XMLHttpRequest","open","responseType","onload","URL","createObjectURL","response","onerror","send","preloadImages","urls","all","map","calcDrawImage","ctx","image","cWidth","canvas","width","cHeight","ratio","cRatio","resultHeight","resultWidth","drawImage","SequenceSection","imagesPath","imagesType","imagesCount","sequenceSection","sequenceSectionCanvas","i","push","images","getContext","tl","addEventListener","resize","documentElement","clientWidth","clientHeight","then","imgs","counter","roundProps"],"mappings":"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"}