!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],e):e((t||self).reactHooksGlobalState={},t.react)}(this,function(t,e){function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var r=function(t,e){if(!t.includes(e))throw new Error("'"+e+"' not found. It must be provided in initialState as a property key.")},o="production"!==process.env.NODE_ENV?Symbol("UPDATE_STATE"):Symbol(),u=function(t,u){var i=Object.keys(u),c=u,a=null,f={};i.forEach(function(t){f[t]=new Set});var l=function(e,n){return n.type===o?n.r?n.r(e):n.e:t(e,n)},s=function(t,e){"production"!==process.env.NODE_ENV&&r(i,t);var u=function(r){var o,u;return n({},r,((o={})[t]="function"==typeof(u=e)?u(r[t]):u,o))};if(a){var l;a(((l={type:o}).r=u,l))}else{var s=(c=u(c))[t];f[t].forEach(function(t){return t(s)})}},d=function(t,e){i.forEach(function(n){var r=e[n];t[n]!==r&&f[n].forEach(function(t){return t(r)})})};return{useGlobalStateProvider:function(){var t=e.useReducer(l,c),n=t[0],r=t[1];e.useEffect(function(){var t;if(a)throw new Error("Only one global state provider is allowed");return a=r,r(((t={type:o}).e=c,t)),function(){a=null}},[]);var u=e.useRef(n);d(u.current,n),u.current=n,e.useEffect(function(){c=n},[n])},useGlobalState:function(t){"production"!==process.env.NODE_ENV&&r(i,t);var n=e.useState(c[t]),o=n[0],u=n[1];return e.useEffect(function(){return f[t].add(u),u(c[t]),function(){f[t].delete(u)}},[t]),[o,e.useCallback(function(e){return s(t,e)},[t])]},getGlobalState:function(t){return"production"!==process.env.NODE_ENV&&r(i,t),c[t]},setGlobalState:s,getState:function(){return c},setState:function(t){var e;a?a(((e={type:o}).e=t,e)):d(c,c=t)},dispatch:function(e){if(a)a(e);else{var n=c;c=t(c,e),d(n,c)}return e}}};t.createGlobalState=function(t){return u(function(t,e){return t},t)},t.createStore=function t(e,n,r){return void 0===n&&(n=e(void 0,{type:void 0})),r?r(t)(e,n):u(e,n)},t.reduxDevToolsExt=function(){return window.__REDUX_DEVTOOLS_EXTENSION__?function(){return[].slice.call(arguments).reduce(function(t,e){return function(){return t(e.apply(void 0,[].slice.call(arguments)))}})}(function(r){return function(o,u,i){if(t=o,e=u,i)return i(r)(o,u);var c=r(o,u);return n({},c,{useGlobalState:function(t){return[c.useGlobalState(t)[0],function(){throw new Error("Update is not allowed when using DevTools")}]}})}},window.__REDUX_DEVTOOLS_EXTENSION__(),function(r){return function(o,u,i){if(i)return i(r)(o,u);var c=r(t,e),a=n({},o(u,{type:"@@redux/INIT"}),e),f=[];return n({},c,{getState:function(){return a},dispatch:function(t){return a=o(a,t),c.setState(a.computedStates[a.currentStateIndex].state),f.forEach(function(t){return t()}),t},subscribe:function(t){return f.push(t),function(){var e=f.indexOf(t);f.splice(e,1)}}})}}):function(t){return t};var t,e}});
//# sourceMappingURL=index.umd.js.map
